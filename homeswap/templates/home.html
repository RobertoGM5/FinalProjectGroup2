{% load static %}

{% load i18n %}
{% load allauth account %}
{% load socialaccount %}
{% load account_tag %}
{% get_providers as socialaccount_providers %}

<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="csrf-token" content="{{ csrf_token }}">
        {% providers_media_js %}
        <script src="https://unpkg.com/htmx.org"></script>

        <!-- css -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="{% static 'css/custom.css' %}">

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                document.body.addEventListener('htmx:configRequest', (event) => {
                    const csrfToken = document.querySelector('meta[name="csrf-token"]').getAttribute('content');
                    event.detail.headers['X-CSRFToken'] = csrfToken;
                });
            });
        </script>
    </head>
    <body id='refresh'>
        <header class="p-3 mb-3 border-bottom">
            <img src="{% static 'img/homeswap.png' %}" alt="">
            {% if user.is_authenticated %}
            {% else %}
                <nav>
                    <ul>
                        <li><a href="#home">Home</a></li><hr>
                        <li><a href="#hdiw">How does it work?</a></li><hr>
                        <li><a href="#clients">Client Testimonials</a></li><hr>
                        <li><a href="#contact">Contact Us</a></li>
                    </ul>
                </nav>
            {% endif %}
            {% if user.is_authenticated %}
                <a href="{% url 'accounts:profile' %}" class="btn btn-outline-dark me-2" role="button">Profile</a>
                <a href="{% url 'accounts:logout' %}" class="btn btn-warning" role="button">Log out</a>
            {% endif %}
        </header>
            <div id="LoginModal" class="modal modal-blur fade" style="display: none" aria-hidden="true" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="fw-bold mb-0 fs-2">{% trans "Sign In" %}</h1>
                            <button type="button" class="btn-close ms-auto" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            {% if not SOCIALACCOUNT_ONLY %}
                                <p style="color: black;">
                                    {% blocktranslate %}If you have not created an account yet, then please <a href="#" data-bs-toggle="modal" data-bs-target="#SignupModal">sign up</a> first.{% endblocktranslate %}
                                </p>
                                <form method="post" action="{% url 'account_login' %}">
                                    {% csrf_token %}
                                    {% for field in form %}
                                        {% if field.name != "remember" %}
                                            <div class="form-floating mb-3">
                                                {{ field|add_class:'form-control' }}
                                                <label for="{{ field.id_for_label }}" style="color: dimgrey;">{{ field.label }}</label>
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                    <div class="form-check text-start my-3">
                                        <input class="form-check-input" type="checkbox" value="remember-me" id="flexCheckDefault" name="remember_me">
                                        <label class="form-check-label" for="flexCheckDefault" style="color: black;">
                                            Remember me
                                        </label>
                                    </div>
                                    <button class="btn btn-primary w-100 py-2" type="submit">Sign in</button>
                                </form>
                            {% endif %}
                            {% if LOGIN_BY_CODE_ENABLED %}
                                <hr>
                                <h2>
                                    <a href="{{ request_login_code_url }}">{% trans "Mail me a sign-in code" %}</a>
                                </h2>
                            {% endif %}
                            {% if SOCIALACCOUNT_ENABLED %}
                                {% include "socialaccount/snippets/login.html" with page_layout="entrance" %}
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            <div id="SignupModal" class="modal modal-blur fade" style="display: none" aria-hidden="true" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1  class="fw-bold mb-0 fs-2">{% trans "Sign Up" %}</h1>
                            <button type="button" class="btn-close ms-auto" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p style="color: black;">{% blocktranslate %}Already have an account? Then please <a href="#" data-bs-toggle="modal" data-bs-target="#LoginModal">sign in</a>.{% endblocktranslate %}</p>
                            {% if not SOCIALACCOUNT_ONLY %}
                                <form method="post" action="{% url 'account_signup' %}" class="form-horizontal">
                                    {% csrf_token %}
                                        {% for field in signup_form %}
                                            <div class="form-floating mb-3">
                                                {{ field|add_class:'form-control' }}
                                                <label for="{{ field.id_for_label }}" style="color: dimgrey;">{{ field.label }}</label>
                                                {% if field.help_text %}
                                                <small class="form-text text-muted">{{ field.help_text }}</small>
                                                {% endif %}
                                                {% for error in field.errors %}
                                                <div class="alert alert-danger">{{ error }}</div>
                                                {% endfor %}
                                            </div>
                                        {% endfor %}
                                        <div class="form-group">
                                            <button type="submit" class="btn btn-primary w-100 py-2">{% trans "Sign Up" %}</button>
                                        </div>
                                </form>
                            {% endif %}
                            {% if SOCIALACCOUNT_ENABLED %}
                                {% include "socialaccount/snippets/login.html" with page_layout="entrance" %}
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            <div id="SocialModal" class="modal modal-blur fade" aria-hidden="true" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="fw-bold mb-0 fs-2">{% trans "Sign In/Up" %}</h1>
                            <button type="button" class="btn-close ms-auto" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="provider-list">
                                {% for provider in socialaccount_providers %}
                                    <p style="color: black;">
                                        {% blocktranslate %}
                                            Already have an account? Then please 
                                            <a href="#" data-bs-toggle="modal" data-bs-target="#LoginModal">sign in</a>.
                                        {% endblocktranslate %}
                                    </p>
                                    {% if process == "connect" %}
                                        <h1>
                                            {% blocktrans with provider.name as provider %}
                                                Connect {{ provider }}
                                            {% endblocktrans %}
                                        </h1>
                                        <p style="color: black;">
                                            {% blocktrans with provider.name as provider %}
                                                You are about to connect a new third-party account from {{ provider }}.
                                            {% endblocktrans %}
                                        </p>
                                    {% else %}
                                        <h1>
                                            {% blocktrans with provider.name as provider %}
                                                Sign In/Up Via {{ provider }}
                                            {% endblocktrans %}
                                        </h1>
                                        <p style="color: black;">
                                            {% blocktrans with provider.name as provider %}
                                                You are about to sign in or up using a third-party account from {{ provider }}.
                                            {% endblocktrans %}
                                        </p>
                                    {% endif %}
                                    <form method="post" action="{% provider_login_url provider.id %}">
                                        {% csrf_token %}
                                        <button type="submit" class="btn btn-primary">
                                            {% trans "Continue" %}
                                        </button>
                                    </form>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <section class="home" id="home">
                <h1 style="margin-left: 100px;">Swap Homes, <br/>
                    Share Adventures!</h1>
                <p>Welcome to Homeswap, the premier platform where homeowners connect to <br/>
                    swap houses and embark on unforgettable adventures.</p>
                <div class="d-inline-flex gap-1"  style="margin-left: 100px;">
                    {% if user.is_authenticated %}
                    {% else %}
                        <button type="button" class="signup-button" data-bs-toggle="modal" data-bs-target="#SignupModal">Sign Up</button>
                        <button type="button" class="signup-button" data-bs-toggle="modal" data-bs-target="#LoginModal">Sign In</button>
                    {% endif %}
                </div>
            </section>
            <div class="parallax1">
                <h2 id="hdiw">How does it work?</h2>
            </div>
            <section class="content">
                <article>
                    <h3>1.</h3>
                    <h3>2.</h3>
                    <h3>3.</h3>
                </article>
                <article>
                    <div>
                        <img src="static/img/signup.jpg" alt="">
                        <p>Get started by creating an account and filling in your profile details, including information about your home and some attractive photos to showcase it to other users!</p>
                    </div>
                    <div>
                        <img src="static/img/blog.jpg" alt="">
                        <p>After logging in, create one or more blog posts detailing the destinations you're interested in swapping homes with. Then, utilize our search function to discover potential matches.</p>
                    </div>
                    <div>
                        <img src="static/img/deal.jpg" alt="">
                        <p>Once you've found a suitable match, reach out to the other user to discuss the details, finalize the arrangement, submit a small security deposit, and prepare to embark on your exciting travel adventure!</p>
                    </div>
                </article>
            </section>
            <div class="parallax2">
                <h2 id="clients">Client Testimonials</h2>
            </div>
            <section class="client">
                <article>
                    <div>
                        <p>"I never imagined home swapping could be so effortless! Thanks to Homeswap, my family and I enjoyed a dream vacation in Italy without breaking the bank. The process was smooth, and our host, Maria, was incredibly welcoming. We'll definitely be swapping again!"</p>
                        <p>- Sarah G,</p>
                    </div>
                    <div>
                        
                        <p>As a frequent traveler, I'm always on the lookout for unique accommodation options. Homeswap exceeded my expectations! From cozy cottages to chic city apartments, there's something for every taste and budget. I've met wonderful hosts and explored new destinations, all thanks to this fantastic platform."</p>
                        <p>- Michael N.</p>
                    </div>
                    <div>
                        <p>I was hesitant about home swapping at first, but Homeswap made me a believer! Not only did I save money on accommodation, but I also had the opportunity to experience local culture like never before. Plus, the support team was always there to answer my questions. Highly recommend!"</p>
                        <p>- Emily L.</p>
                    </div>
                </article>
            </section>
            </section>
            <div class="parallax3">
                <h2 id="contact">Contact Us</h2>
            </div>
        <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
            <div>
                <form action="mailto:roberto@email.com" method="get" enctype="text/plain">
                Name:<br>
                <input type="text" name="name" placeholder="Your Name" size="100"><br>
                <br>
                Email:<br>
                <input type="email" name="email" placeholder="Your Email" size="100"><br>
                <br>
                Message:<br>
                <textarea name="body" rows="5" cols="102" placeholder="Your Message"></textarea><br>
                <input type="submit" value="Send">
                </form>
            </div>
            <img src="{% static 'img/homeswap2.png' %}" alt="">
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    </body>
</html>



{% comment %} <div class="container">
                <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                    <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"></use></svg>
                </a>
        
                <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                    <li><a href="{% url 'accounts:home' %}" class="nav-link px-2 text-secondary">Home</a></li> {% endcomment %}
                    {% comment %} <li><a href="#" class="nav-link px-2 text-secondary">Features</a></li>
                    <li><a href="#" class="nav-link px-2 text-secondary">Pricing</a></li>
                    <li><a href="#" class="nav-link px-2 text-wsecondary">FAQs</a></li>
                    <li><a href="#" class="nav-link px-2 text-secondary">About</a></li> 
                </ul>{% endcomment %}
        
                {% comment %} <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
                    <input type="search" class="form-control form-control-dark text-bg-light" placeholder="Search..." aria-label="Search">
                </form> {% endcomment %}
        
                {% comment %} <div class="text-end">
                    {% if user.is_authenticated %}
                    <a href="{% url 'accounts:profile' %}" class="btn btn-outline-dark me-2" role="button">Profile</a>
                    <a href="{% url 'accounts:logout' %}" class="btn btn-warning" role="button">Log out</a>
                    {% else %}
                    <a href="/accounts/login/" class="btn btn-outline-dark me-2" role="button">Login</a>
                    <a href="/accounts/signup/" class="btn btn-warning" role="button">Sign-up</a>
                    {% endif %}
                </div>
                </div>
            </div> {% endcomment %}
            {% comment %} <button type="button" class="login-button" data-bs-toggle="modal" data-bs-target="#LoginModal">Login</button> {% endcomment %}